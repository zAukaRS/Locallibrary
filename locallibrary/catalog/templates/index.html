{% extends "base.html" %}
{% load static %}
{% block content %}
    <link rel="stylesheet" href="{% static 'css/index.css' %}">

    <header>
        <h1>Добро пожаловать в Local Library</h1>
    </header>

    <div class="container">
        <h2>Динамический контент</h2>
        <p>В библиотеке имеется следующее количество записей:</p>
        <ul>
            <li><strong>Книги:</strong> {{ num_books }}</li>
            <li><strong>Копии:</strong> {{ num_instances }}</li>
            <li><strong>Доступны копии:</strong> {{ num_instances_available }}</li>
            <li><strong>Авторы:</strong> {{ num_authors }}</li>
        </ul>
        <p>Вы посетили эту страницу {{ num_visits }} раз{{ num_visits|pluralize:",а,ов" }}.</p>
    </div>

    <div class="search-container">
        <h3>Поиск книг по слову</h3>
        <form method="get" action="">
            <input type="text" name="q" placeholder="Введите слово" value="{{ search_word }}">
            <button type="submit">Искать</button>
        </form>

        {% if search_word %}
            <h3>Результаты для слова: "{{ search_word }}"</h3>
            <p><strong>Количество книг, содержащих "{{ search_word }}":</strong> {{ num_books_with_word }}</p>
            <p><strong>Количество жанров, связанных с этими книгами:</strong> {{ num_genres_with_books }}</p>
        {% endif %}
    </div>

    <footer>
        <p>&copy; 2024 Local Library</p>
    </footer>
{% endblock %}
